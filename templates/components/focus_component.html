<link rel="stylesheet" href="{{ url_for('static', filename='focusmap.css') }}">

<div class="focusmap-container">
  <h3>ğŸŸ£ í™œë™ ì§‘ì¤‘ë„ ë° ë¶ˆê· í˜• ë¶„ì„ (ì‹œê°„ëŒ€ë³„ ë¹„êµ)</h3>

  <div class="focusmap">
    <!-- ìƒë‹¨ ì‹œê°„ ë¼ë²¨ -->
    <div class="row label-row">
      <div class="cell label">ê¸°ê°„</div>
      {% for hour in range(24) %}
        <div class="cell label">{{ "%02d"|format(hour) }}</div>
      {% endfor %}
    </div>

    <!-- ê° ê¸°ê°„ë³„ ì§‘ì¤‘ë„ í–‰ -->
{% for label, focus_map in focus_data %}
<div class="row">
  <div class="cell label">{{ label }}</div>
  {% for hour in range(24) %}
    {% set item = focus_map.get(hour) %}
    {% if item %}
      {% set percent = item.percent %}
      {% set lightness = 90 - (percent * 0.6)|int %}  <!-- 0~100% â†’ ë°ê¸° 90% ~ 30% -->
      <div class="cell" style="background-color: hsl(220, 100%, {{ lightness }}%);" title="{{ percent }}%">
        {{ percent }}%
      </div>
    {% else %}
      <div class="cell"></div>
    {% endif %}
  {% endfor %}
</div>
{% endfor %}

  </div>
</div>
